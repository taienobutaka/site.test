# ã‚¢ãƒ‹ãƒ¡ãƒ»ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ¡ãƒ³ãƒˆã‚µã‚¤ãƒˆ - é–‹ç™ºã‚¬ã‚¤ãƒ‰

## ğŸš€ Makefile ã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªé–‹ç™ºãƒ•ãƒ­ãƒ¼

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€é–‹ç™ºåŠ¹ç‡ã‚’æœ€å¤§åŒ–ã™ã‚‹ãŸã‚ã« Makefile ã‚’å°å…¥ã—ã¦ã„ã¾ã™ã€‚

### ğŸ“‹ ä¸»è¦ã‚³ãƒãƒ³ãƒ‰

#### åŸºæœ¬æ“ä½œ

- `make help` - åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰ä¸€è¦§
- `make setup` - åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆNode.js ç¢ºèª + npm installï¼‰
- `make dev` - é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ï¼‰
- `make start` - æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰ã§ã‚µãƒ¼ãƒãƒ¼èµ·å‹•

#### ã‚µãƒ¼ãƒãƒ¼ç®¡ç†

- `make start-bg` - ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
- `make stop` - ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼åœæ­¢
- `make restart` - ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•
- `make status` - ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ç¢ºèª
- `make logs` - ã‚µãƒ¼ãƒãƒ¼ãƒ­ã‚°è¡¨ç¤º

#### é–‹ç™ºæ”¯æ´

- `make open` - ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚µã‚¤ãƒˆã‚’é–‹ã
- `make quick` - ã‚¯ã‚¤ãƒƒã‚¯èµ·å‹•ï¼ˆinstallâ†’start-bgâ†’openï¼‰
- `make clean` - ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤
- `make info` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±è¡¨ç¤º

#### å“è³ªç®¡ç†

- `make test` - ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- `make lint` - ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
- `make format` - ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- `make build` - æœ¬ç•ªç”¨ãƒ“ãƒ«ãƒ‰

### ğŸ”„ æ¨å¥¨é–‹ç™ºãƒ•ãƒ­ãƒ¼

#### åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
git clone [repository]
cd site
make setup        # Node.jsç¢ºèª + ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
make dev          # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
```

#### æ—¥å¸¸é–‹ç™º

```bash
# æœã®é–‹ç™ºé–‹å§‹
make start-bg     # ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰èµ·å‹•
make open         # ãƒ–ãƒ©ã‚¦ã‚¶ã‚ªãƒ¼ãƒ—ãƒ³

# ä½œæ¥­ä¸­ã®ã‚µãƒ¼ãƒãƒ¼ç¢ºèª
make status       # çŠ¶æ…‹ç¢ºèª
make logs         # ãƒ­ã‚°ç¢ºèª

# å•é¡Œç™ºç”Ÿæ™‚
make restart      # å†èµ·å‹•

# çµ‚æ¥­æ™‚
make stop         # ã‚µãƒ¼ãƒãƒ¼åœæ­¢
```

#### ãƒ‡ãƒ¢ãƒ»ãƒ—ãƒ¬ã‚¼ãƒ³

```bash
make quick        # ã™ã¹ã¦ä¸€æ‹¬å®Ÿè¡Œï¼ˆæœ€é€Ÿï¼‰
```

### ğŸ³ Docker ã‚µãƒãƒ¼ãƒˆ

#### é–‹ç™ºç’°å¢ƒ

```bash
make docker-build           # ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰
docker-compose --profile dev up    # é–‹ç™ºç’°å¢ƒèµ·å‹•
```

#### æœ¬ç•ªç’°å¢ƒ

```bash
docker-compose --profile production up
```

### ğŸ› ï¸ ä»£æ›¿ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

Makefile ãŒåˆ©ç”¨ã§ããªã„ç’°å¢ƒã§ã¯ã€`dev-script.sh` ã‚’ä½¿ç”¨ï¼š

```bash
./dev-script.sh setup    # åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
./dev-script.sh start    # é–‹ç™ºé–‹å§‹
./dev-script.sh quick    # ã‚¯ã‚¤ãƒƒã‚¯èµ·å‹•
```

### ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

- `make optimize` - CSS/JS æœ€é©åŒ–
- `make build` - æœ¬ç•ªç”¨ãƒ“ãƒ«ãƒ‰
- `make deploy-check` - ãƒ‡ãƒ—ãƒ­ã‚¤å‰ãƒã‚§ãƒƒã‚¯

### ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ãªã„

```bash
make clean        # ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤
make setup        # å†ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
make dev          # é–‹ç™ºãƒ¢ãƒ¼ãƒ‰èµ·å‹•
```

#### å®Œå…¨ãƒªã‚»ãƒƒãƒˆ

```bash
make clean-all    # å®Œå…¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
make setup        # å†ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```

#### ãƒãƒ¼ãƒˆç«¶åˆ

```bash
make stop         # æ—¢å­˜ã‚µãƒ¼ãƒãƒ¼åœæ­¢
make start        # æ–°è¦èµ·å‹•
```

### ğŸ’¡ åŠ¹ç‡åŒ–ã®ã‚³ãƒ„

1. **ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®š**

   ```bash
   alias mdev="make dev"
   alias mstart="make start-bg"
   alias mstop="make stop"
   alias mquick="make quick"
   ```

2. **ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼èµ·å‹•**

   ```bash
   make quick && echo "é–‹ç™ºæº–å‚™å®Œäº†ï¼"
   ```

3. **ç›£è¦–ã‚³ãƒãƒ³ãƒ‰**
   ```bash
   watch -n 2 make status    # 2ç§’ã”ã¨ã«çŠ¶æ…‹ç¢ºèª
   ```

---

**ğŸ’» Happy Coding!** Makefile ã§åŠ¹ç‡çš„ãªé–‹ç™ºã‚’ãŠæ¥½ã—ã¿ãã ã•ã„ã€‚
